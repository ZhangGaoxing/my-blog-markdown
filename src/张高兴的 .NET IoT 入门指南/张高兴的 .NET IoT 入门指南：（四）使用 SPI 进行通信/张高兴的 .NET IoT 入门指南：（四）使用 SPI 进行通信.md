* [ä½¿ç”¨ SPI è¿›è¡Œé€šä¿¡]()
   * [ä»€ä¹ˆæ˜¯ SPI]()
   * [ç›¸å…³ç±»]()
   * [SPI çš„é€šä¿¡æ­¥éª¤]()
   * [åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨è¯»å–å®éªŒ]()

## ä»€ä¹ˆæ˜¯ SPI

å’Œä¸Šä¸€ç¯‡æ–‡ç« çš„ I<sup>2</sup>C æ€»çº¿ä¸€æ ·ï¼ŒSPIï¼ˆSerial Peripheral Interfaceï¼Œä¸²è¡Œå¤–è®¾æ¥å£ï¼‰ä¹Ÿæ˜¯è®¾å¤‡ä¸è®¾å¤‡é—´é€šä¿¡æ–¹å¼çš„ä¸€ç§ã€‚SPI æ˜¯ä¸€ç§å…¨åŒå·¥ï¼ˆæ•°æ®å¯ä»¥ä¸¤ä¸ªæ–¹å‘åŒæ—¶ä¼ è¾“ï¼‰çš„ä¸²è¡Œé€šä¿¡æ€»çº¿ï¼Œç”±æ‘©æ‰˜ç½—æ‹‰äºä¸Šä¸ªä¸–çºª 80 å¹´ä»£å¼€å‘<sup>[[1]](https://en.wikipedia.org/wiki/Serial_Peripheral_Interface)</sup>ï¼Œç”¨äºçŸ­è·ç¦»è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ã€‚SPI åŒ…å« 4 æ ¹ä¿¡å·çº¿ï¼Œä¸€æ ¹æ—¶é’Ÿçº¿ SCKï¼ˆSerial Clockï¼Œä¸²è¡Œæ—¶é’Ÿï¼‰ï¼Œä¸¤æ ¹æ•°æ®çº¿ MOSIï¼ˆMaster Output Slave Inputï¼Œä¸»æœºè¾“å‡ºä»æœºè¾“å…¥ï¼‰å’Œ MISOï¼ˆMaster Input Slave Outputï¼Œä¸»æœºè¾“å…¥ä»æœºè¾“å‡ºï¼‰ï¼Œä»¥åŠä¸€æ ¹ç‰‡é€‰ä¿¡å· CSï¼ˆChip Selectï¼Œæˆ–è€…å« SSï¼ŒSlave Selectï¼‰ã€‚æ‰€è°“çš„æ—¶é’Ÿçº¿å°±æ˜¯ä¸€ç§å‘¨æœŸï¼Œä¸¤å°è®¾å¤‡æ•°æ®ä¼ è¾“ä¸èƒ½å„å‘å„çš„ï¼Œè¿™æ ·å°±æ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤éœ€è¦ä¸€ç§å‘¨æœŸå»å¯¹é€šä¿¡è¿›è¡Œçº¦æŸï¼›æ•°æ®çº¿å°±æ˜¯æŒ‰ç…§ MOSI å’Œ MISO çš„ä¸­æ–‡ç¿»è¯‘ç†è§£å³å¯ï¼›ç‰‡é€‰ä¿¡å·ç”¨äºä¸»è®¾å¤‡é€‰æ‹© SPI ä¸Šçš„ä»è®¾å¤‡ï¼ŒI<sup>2</sup>C æ˜¯é åœ°å€é€‰æ‹©è®¾å¤‡ï¼Œè€Œ SPI é çš„æ˜¯ç‰‡é€‰ä¿¡å·ï¼Œä¸€èˆ¬æ¥è¯´è¦é€‰æ‹©å“ªä¸ªä»è®¾å¤‡åªè¦å°†ç›¸åº”çš„ CS çº¿è®¾ç½®ä¸ºä½ç”µå¹³å³å¯ï¼Œç‰¹æ®Šæƒ…å†µéœ€è¦çœ‹æ•°æ®æ‰‹å†Œã€‚ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ª SPI ä¸»è®¾å¤‡å’Œä¸‰ä¸ª SPI ä»è®¾å¤‡çš„ç¤ºæ„å›¾ã€‚

![201952911145](https://blogres.zhangyue.xin/2019529/201952911145.png)
<p style="text-align:center;margin-bottom:25px;color:gray"><small>å›¾1ï¼š<a href="https://en.wikipedia.org/wiki/File:SPI_three_slaves.svg">SPI è®¾å¤‡</a></small></p>

SPI è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µå°±æ˜¯æ—¶é’Ÿçš„ææ€§ï¼ˆCPOLï¼ŒClock Polarityï¼‰å’Œç›¸ä½ï¼ˆCPHAï¼ŒClock Phaseï¼‰ï¼Œå¯¹å…¶è¿™é‡Œä¸è¿‡å¤šè§£é‡Šï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ææ€§å’Œç›¸ä½çš„ç»„åˆæ„æˆäº† SPI çš„ä¼ è¾“æ¨¡å¼ï¼ˆSPI Modeï¼‰ã€‚åœ¨æ•°æ®æ‰‹å†Œä¸­ï¼Œåªè¦æ˜¯ SPI é€šä¿¡åè®®çš„ï¼Œä¸€å®šä¼šç»™å‡ºä¼ è¾“æ¨¡å¼ï¼Œæˆ‘ä»¬æ ¹æ®æ•°æ®æ‰‹å†Œè¿›è¡Œè®¾ç½®å³å¯ã€‚SPI çš„ä¼ è¾“æ¨¡å¼æ˜¯æœ‰å›ºå®šç¼–å·çš„ï¼Œä¸‹è¡¨ç»™å‡ºäº†å„ä¸ªæ¨¡å¼ï¼Œå¸¸ç”¨çš„æ¨¡å¼æœ‰ Mode0 å’Œ Mode3ã€‚

| SPI Mode | CPOL | CPHA |
| --- | --- | --- |
| Mode0 | 0 | 0 |
| Mode1 | 0 | 1 |
| Mode2 | 1 | 0 |
| Mode3 | 1 | 1 |

![2019529111420](https://blogres.zhangyue.xin/2019529/2019529111420.png)
<p style="text-align:center;color:gray"><small>å›¾2ï¼š<a href="https://en.wikipedia.org/wiki/File:SPI_timing_diagram2.svg">è¯¥æ—¶åºå›¾æ˜¾ç¤ºäº†æ—¶é’Ÿçš„ææ€§å’Œç›¸ä½</a></small></p>

SPI ç›¸æ¯”è¾ƒ I<sup>2</sup>C æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¼ è¾“é€Ÿç‡é«˜ï¼Œå¹¶ä¸”æ•°æ®åœ¨åŒä¸€æ—¶é—´å†…å¯ä»¥åŒå‘ä¼ è¾“ï¼Œè¿™éƒ½å¾—ç›Šäºå®ƒçš„ä¸¤æ ¹è¾“å…¥å’Œè¾“å‡ºæ•°æ®çº¿ã€‚å½“ç„¶ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ¯” I<sup>2</sup>C å¤šäº†ä¸¤æ ¹çº¿ï¼Œè¿™å°±è¦å¤šå ç”¨ä¸¤ä¸ª IO æ¥å£ã€‚è€Œä¸” SPI é‡‡ç”¨ CS çº¿å»é€‰æ‹©è®¾å¤‡ï¼Œä¸åƒ I<sup>2</sup>C æœ‰å¯»å€æœºåˆ¶ï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šä¸ª SPI è®¾å¤‡éœ€è¦è¿æ¥çš„è¯ IO æ¥å£çš„å ç”¨æ•°é‡æ˜¯ç›¸å½“é«˜çš„ã€‚

åœ¨ Raspberry Pi çš„å¼•è„šä¸­ï¼Œå¼•å‡ºäº†ä¸¤ç»„ SPI æ¥å£ã€‚ä½†æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨ Raspbian ä¸­ SPI-1 æ˜¯è¢«ç¦ç”¨çš„ï¼Œä½ éœ€è¦ä¿®æ”¹ä¸€äº›å‚æ•°å»å¯ç”¨ SPI-1ã€‚SPI æ¥å£çš„å¼•è„šç¼–å·å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

<div style="display: block;position: relative;border-radius: 8px;padding: 1rem;background-color: #d2f9d2;color: #094409;margin: 10px">
    <p style="margin-top:0;font-weight: bold">ğŸ’¡&nbsp;æç¤º</p>
    <p>å¦‚ä½•åœ¨ Raspbian ä¸Šå¼€å¯ SPI-1ï¼Ÿï¼ˆåœ¨ Win10 IoT ä¸Š SPI-1 æ˜¯å¼€å¯çš„ï¼‰</p>
    <div>1. ä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€ /boot/config.txt ï¼Œå¦‚ï¼š<code>sudo nano /boot/config.txt</code></div>
    <div>2. æ·»åŠ  <code>dtoverlay=spi1-3cs</code> å¹¶ä¿å­˜</div>
    <div>3. é‡å¯</div>
</div>

![](https://blogres.zhangyue.xin/2019127/2019127155158.png)
<p style="text-align:center;margin-bottom:25px;color:gray"><small>Raspberry Pi B+/2B/3B/3B+/Zero å¼•è„šå›¾</small></p>

## ç›¸å…³ç±»

SPI æ“ä½œçš„ç›¸å…³ç±»ä½äº **System.Device.Spi** å‘½åç©ºé—´ä¸‹ã€‚

### SpiConnectionSettings

`SpiConnectionSettings` ç±»ä½äº **System.Device.Spi** å‘½åç©ºé—´ä¸‹ï¼Œè¡¨ç¤º SPI è®¾å¤‡çš„è¿æ¥è®¾ç½®ã€‚

```C#
public sealed class SpiConnectionSettings
{
    // busId æ˜¯ SPI çš„å†…éƒ¨ ID
    // chipSelectLine æ˜¯ CS Pin çš„ç¼–å·ï¼ˆåœ¨ Raspberry Pi ä¸Šï¼ŒSPI-0 å¯¹åº” 0 å’Œ 1ï¼ŒSPI-1 å¯¹åº” 2ï¼‰
    public SpiConnectionSettings(int busId, int chipSelectLine);

    // SPI ä¼ è¾“æ¨¡å¼
    public SpiMode Mode { get; set; }
    // SPI æ—¶é’Ÿé¢‘ç‡
    public int ClockFrequency { get; set; }
    // CS çº¿æ¿€æ´»çŠ¶æ€ï¼ˆå³é«˜ç”µå¹³é€‰ä¸­è®¾å¤‡è¿˜æ˜¯ä½ç”µå¹³é€‰ä¸­è®¾å¤‡ï¼‰
    public PinValue ChipSelectLineActiveState { get; set; }
}
```

### SpiDevice

`SpiDevice` æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œé€šè¿‡å•ä¾‹æ¨¡å¼åˆ›å»ºå…·ä½“çš„å¯¹è±¡ã€‚å…·ä½“å®ç°æ˜¯é€šè¿‡ä¸¤ä¸ªå†…éƒ¨ç±» `UnixSpiDevice` å’Œ `Windows10SpiDevice` ï¼Œåˆ†åˆ«ä»£è¡¨ Unix å’Œ Windows10 ä¸‹çš„ SPI æ§åˆ¶å™¨ã€‚

```C#
public abstract partial class SpiDevice : IDisposable
{
    // åˆ›å»º SpiDevice å¯¹è±¡
    public static SpiDevice Create(SpiConnectionSettings settings);

    // ä»ä»è®¾å¤‡ä¸­è¯»å–ä¸€æ®µæ•°æ®ï¼Œæ•°æ®é•¿åº¦ç”± Span çš„é•¿åº¦å†³å®š
    public override void Read(Span<byte> buffer);
    // ä»ä»è®¾å¤‡ä¸­è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®
    public override byte ReadByte();

    // å…¨åŒå·¥ä¼ è¾“ï¼Œå³ä¸»ä»è®¾å¤‡åŒæ—¶ä¼ è¾“
    // writeBuffer ä¸ºè¦å†™å…¥ä»è®¾å¤‡çš„æ•°æ®
    // readBuffer ä¸ºè¦ä»ä»è®¾å¤‡ä¸­è¯»å–çš„æ•°æ®
    // éœ€è¦æ³¨æ„çš„æ˜¯ writeBuffer å’Œ readBuffer éœ€è¦é•¿åº¦ä¸€è‡´
    public override void TransferFullDuplex(ReadOnlySpan<byte> writeBuffer, Span<byte> readBuffer);
    
    // å‘ä»è®¾å¤‡ä¸­å†™å…¥ä¸€æ®µæ•°æ®ï¼Œé€šå¸¸ Span ä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ®ä¸ºè¦å†™å…¥æ•°æ®çš„å¯„å­˜å™¨çš„åœ°å€
    public override void Write(ReadOnlySpan<byte> buffer);
    // å‘ä»è®¾å¤‡ä¸­å†™å…¥ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œé€šå¸¸è¿™ä¸ªå­—èŠ‚ä¸ºå¯„å­˜å™¨çš„åœ°å€
    public override void WriteByte(byte value);
}
```

## SPI çš„é€šä¿¡æ­¥éª¤

1. åˆå§‹åŒ– SPI è¿æ¥è®¾ç½® `SpiConnectionSettings`

    ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½® SPI çš„ IDï¼ŒCS çš„ç¼–å·ï¼Œæ—¶é’Ÿé¢‘ç‡å’Œ SPI ä¼ è¾“æ¨¡å¼ã€‚å…¶ä¸­åƒæ—¶é’Ÿé¢‘ç‡ã€ä¼ è¾“æ¨¡å¼ç­‰è®¾ç½®éƒ½æ¥è‡ªäºè®¾å¤‡çš„æ•°æ®æ‰‹å†Œã€‚æ¯”å¦‚è¦ä½¿ç”¨ Raspberry Pi çš„ SPI-0 å»æ“ä½œä¸€ä¸ªæ—¶é’Ÿé¢‘ç‡ä¸º 5 MHzï¼ŒSPI ä¼ è¾“æ¨¡å¼ä¸º Mode3 çš„è®¾å¤‡ï¼Œä»£ç å¦‚ä¸‹ï¼š

    ```C#
    SpiConnectionSettings settings = new SpiConnectionSettings(busId: 0, chipSelectLine: 0)
    {
        ClockFrequency = 5000000,
        Mode = SpiMode.Mode3
    };
    ```

2. è¯»å–å’Œå†™å…¥
   
    è¯»å–å’Œå†™å…¥ä¸ I<sup>2</sup>C ç±»ä¼¼ï¼Œè¿™é‡Œä¸å†è¿‡å¤šèµ˜è¿°ï¼Œè¯¦è§ä¸Šä¸€ç¯‡åšå®¢ï¼Œè¿™é‡Œåªæä¾›ä¸€ä¸ªä»£ç ç¤ºä¾‹ã€‚å”¯ä¸€è¦è¯´æ˜çš„å°±æ˜¯ä½¿ç”¨å…¨åŒå·¥é€šä¿¡ `TransferFullDuplex()` æ—¶ï¼Œè¦æ±‚å†™å…¥çš„æ•°æ®å’Œè¯»å–çš„æ•°æ®é•¿åº¦è¦ä¸€è‡´ï¼Œå¹¶ä¸”èƒ½å¦ä½¿ç”¨ä¹Ÿéœ€è¦çœ‹è®¾å¤‡æ˜¯å¦æ”¯æŒã€‚æ¯”å¦‚ä»åœ°å€ä¸º 0x00 çš„å¯„å­˜å™¨ä¸­å‘åè¿ç»­è¯»å– 8 ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œå¹¶ä¸”å‘åœ°å€ä¸º 0x01 çš„å¯„å­˜å™¨å†™å…¥ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š

    ```C#
    // è¯»å–
    sensor.WriteByte(0x00);
    Span<byte> readBuffer = stackalloc byte[8]; 
    sensor.Read(readBuffer);

    // å†™å…¥
    Span<byte> writeBuffer = stackalloc byte[] { 0x01, 0xFF }; 
    sensor.Write(writeBuffer);

    // å…¨åŒå·¥è¯»å–
    Span<byte> writeBuffer = stackalloc byte[8]; 
    Span<byte> readBuffer = stackalloc byte[8];
    writeBuffer[0] = 0x00;
    sensor.TransferFullDuplex(writeBuffer, readBuffer);
    ```

## åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨è¯»å–å®éªŒ

æœ¬å®éªŒé€‰ç”¨çš„æ˜¯ä¸‰è½´åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ **ADXL345** ï¼Œæ•°æ®æ‰‹å†Œåœ°å€ï¼š<http://wenku.baidu.com/view/87a1cf5c312b3169a451a47e.html> ã€‚

### ä¼ æ„Ÿå™¨å›¾åƒ

![2019529131534](https://blogres.zhangyue.xin/2019529/2019529131534.jpg)

### ç¡¬ä»¶éœ€æ±‚

| åç§° | æ•°é‡ |
| :--- | ---: |
| ADXL345 | x1 |
| æœé‚¦çº¿ | è‹¥å¹² |

### ç”µè·¯

![2019529131838](https://blogres.zhangyue.xin/2019529/2019529131838.jpg)

* VCC - 3.3 V
* GND - GND
* CS - CS0 - GPIO 8 (Pin 24)
* SDO - SPI0 MISO - GPIO 9 (Pin 21)
* SDA - SPI0 MOSI - GPIO 10 (Pin 19)
* SCL - SPI0 SCLK - GPIO 11 (Pin 23)

### ä½¿ç”¨ Docker è¿è¡Œç¤ºä¾‹
ç¤ºä¾‹åœ°å€ï¼š<https://github.com/ZhangGaoxing/dotnet-core-iot-demo/tree/master/src/Adxl345>

```
docker build -t adxl-sample -f Dockerfile .
docker run --rm -it --device /dev/spidev0.0 adxl-sample
```

### ä»£ç 

1. æ‰“å¼€ Visual Studio ï¼Œæ–°å»ºä¸€ä¸ª .NET Core æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œé¡¹ç›®åç§°ä¸ºâ€œAdxl345â€ã€‚
2. å¼•å…¥ **System.Device.Gpio** NuGet åŒ…ã€‚
3. æ–°å»ºç±» **Adxl345**ï¼Œæ›¿æ¢å¦‚ä¸‹ä»£ç ï¼š

    ```C#
    public class Adxl345 : IDisposable
    {
        #region å¯„å­˜å™¨åœ°å€
        private const byte ADLX_POWER_CTL = 0x2Dï¼›      // ç”µæºæ§åˆ¶åœ°å€
        private const byte ADLX_DATA_FORMAT = 0x31;     // èŒƒå›´åœ°å€
        private const byte ADLX_X0 = 0x32;              // Xè½´æ•°æ®åœ°å€
        private const byte ADLX_Y0 = 0x34;              // Yè½´æ•°æ®åœ°å€
        private const byte ADLX_Z0 = 0x36;              // Zè½´æ•°æ®åœ°å€
        #endregion

        private SpiDevice _sensor = null;
                                                   
        private readonly int _range = 16;               // æµ‹é‡èŒƒå›´ï¼ˆ-8ï¼Œ8ï¼‰
        private const int Resolution = 1024;            // åˆ†è¾¨ç‡

        #region SpiSetting
        /// <summary>
        /// ADX1345 SPI æ—¶é’Ÿé¢‘ç‡
        /// </summary>
        public const int SpiClockFrequency = 5000000;

        /// <summary>
        /// ADX1345 SPI ä¼ è¾“æ¨¡å¼
        /// </summary>
        public const SpiMode SpiMode = System.Device.Spi.SpiMode.Mode3;
        #endregion

        /// <summary>
        /// åŠ é€Ÿåº¦
        /// </summary>
        public Vector3 Acceleration => ReadAcceleration();

        /// <summary>
        /// å®ä¾‹åŒ–ä¸€ä¸ª ADX1345
        /// </summary>
        /// <param name="sensor">SpiDevice</param>
        public Adxl345(SpiDevice sensor)
        {
            _sensor = sensor;

            // è®¾ç½® ADXL345 æµ‹é‡èŒƒå›´
            // æ•°æ®æ‰‹å†Œ P28ï¼Œè¡¨ 21
            Span<byte> dataFormat = stackalloc byte[] { ADLX_DATA_FORMAT, 0b_0000_0010 };
            // è®¾ç½® ADXL345 ä¸ºæµ‹é‡æ¨¡å¼
            // æ•°æ®æ‰‹å†Œ P24
            Span<byte> powerControl = stackalloc byte[] { ADLX_POWER_CTL, 0b_0000_1000 };

            _sensor.Write(dataFormat);
            _sensor.Write(powerControl);
        }

        /// <summary>
        /// è¯»å–åŠ é€Ÿåº¦
        /// </summary>
        /// <returns>åŠ é€Ÿåº¦</returns>
        private Vector3 ReadAcceleration()
        {
            int units = Resolution / _range;

            // 7 = 1ä¸ªåœ°å€ + 3è½´æ•°æ®ï¼ˆæ¯è½´æ•°æ®2å­—èŠ‚ï¼‰
            Span<byte> writeBuffer = stackalloc byte[7];
            Span<byte> readBuffer = stackalloc byte[7];

            writeBuffer[0] = ADLX_X0;
            _sensor.TransferFullDuplex(writeBuffer, readBuffer);
            Span<byte> readData = readBuffer.Slice(1);      // åˆ‡å‰²ç©ºç™½æ•°æ®

            // å°†å°ç«¯æ•°æ®è½¬æ¢æˆæ­£å¸¸çš„æ•°æ®
            short AccelerationX = BinaryPrimitives.ReadInt16LittleEndian(readData.Slice(0, 2));
            short AccelerationY = BinaryPrimitives.ReadInt16LittleEndian(readData.Slice(2, 2));
            short AccelerationZ = BinaryPrimitives.ReadInt16LittleEndian(readData.Slice(4, 2));

            Vector3 accel = new Vector3
            {
                X = (float)AccelerationX / units,
                Y = (float)AccelerationY / units,
                Z = (float)AccelerationZ / units
            };

            return accel;
        }

        /// <summary>
        /// é‡Šæ”¾èµ„æº
        /// </summary>
        public void Dispose()
        {
            _sensor?.Dispose();
            _sensor = null;
        }
    }
    ```

4. åœ¨ **Program.cs** ä¸­ï¼Œå°†ä¸»å‡½æ•°ä»£ç æ›¿æ¢å¦‚ä¸‹ï¼š

    ```C#
    static void Main(string[] args)
    {
        SpiConnectionSettings settings = new SpiConnectionSettings(busId: 0, chipSelectLine: 0)
        {
            ClockFrequency = Adxl345.SpiClockFrequency,
            Mode = Adxl345.SpiMode
        };
        SpiDevice device = SpiDevice.Create(settings);

        using (Adxl345 sensor = new Adxl345(device))
        {
            while (true)
            {
                Vector3 data = sensor.Acceleration;

                Console.WriteLine($"X: {data.X.ToString("0.00")} g");
                Console.WriteLine($"Y: {data.Y.ToString("0.00")} g");
                Console.WriteLine($"Z: {data.Z.ToString("0.00")} g");
                Console.WriteLine();

                Thread.Sleep(500);
            }
        }
    }
    ```

5. å‘å¸ƒã€æ‹·è´ã€æ›´æ”¹æƒé™ã€è¿è¡Œ

### æ•ˆæœå›¾

![2019529141313](https://blogres.zhangyue.xin/2019529/2019529141313.jpg)

## å‚è€ƒ
1. Serial Peripheral Interface - Wikipediaï¼š<https://en.wikipedia.org/wiki/Serial_Peripheral_Interface>
2. SPI source codeï¼š<https://github.com/dotnet/iot/tree/master/src/System.Device.Gpio/System/Device/Spi>
3. SPI - ç™¾åº¦ç™¾ç§‘ï¼š<https://baike.baidu.com/item/SPI/4429726>